{"version":3,"sources":["store/data.js","store/actions/index.js","components/OrdersBasket/index.jsx","App.js","store/reducers/index.js","index.js"],"names":["data","title","price","ADD_ORDER","DELETE_ORDER","Alert","props","elevation","variant","OrdersBasket","orders","useSelector","state","dispatch","useDispatch","useEffect","localStorage","setItem","JSON","stringify","React","useState","open","setOpen","style","styles","orderContainer","menuContainer","MenuList","map","el","id","Tooltip","MenuItem","onClick","type","payload","setTimeout","cursor","basketContainer","length","count","sum","Skeleton","animation","Snackbar","autoHideDuration","severity","display","justifyContent","width","backgroundColor","App","className","defaultState","parse","getItem","totalPrice","totalCount","store","createStore","action","is_chosen1","findIndex","item","arr1","is_chosen","arr","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3bb9a3e8.chunk.js","sourcesContent":["export const data = [\r\n    {title:'burger', price: 150},\r\n    { title: \"cola\", price: 80 },\r\n    { title: \"fries\", price: 150 },\r\n    { title: \"tea\", price: 50 },\r\n]\r\n","export  const ADD_ORDER = 'ADD_ORDER'\r\nexport const DELETE_ORDER = 'DELETE_ORDER'\r\n//    1- вариант\r\n// export const add_order = () => {\r\n//     return {\r\n//         type: ADD_ORDER\r\n//     }\r\n// }\r\nexport const add_order = (item) => ({\r\n        type: ADD_ORDER,\r\n        payload: item\r\n})\r\nexport const delete_order = (item) => ({\r\n        type: DELETE_ORDER,\r\n        payload: item\r\n})","import React, { useEffect } from 'react'\r\nimport { data } from '../../store/data'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { add_order, delete_order } from '../../store/actions'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n// alert\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nexport const OrdersBasket = () => {\r\n    const orders = useSelector(state => state.orders)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        localStorage.setItem('orders', JSON.stringify(orders))\r\n    },[orders])\r\n    // alert\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClick = () => {\r\n        setOpen(true);\r\n        setTimeout(() => {\r\n            setOpen(!true);   \r\n        }, 1000)\r\n    };\r\n    return <div style={styles.orderContainer}>\r\n        <div style={styles.menuContainer}>\r\n            <h1>Menu</h1>\r\n            <MenuList>\r\n                {\r\n                    data.map((el, id) => {\r\n                        return <Tooltip title=\"Добавить в заказы\">\r\n                            <MenuItem\r\n                                onClick={() => {dispatch(add_order(el))\r\n                                handleClick()}}\r\n                                style={{ cursor: 'pointer' }}\r\n                                key={id} >\r\n                                <h1>{el.title}:  {el.price} </h1> \r\n                            </MenuItem>\r\n                        </Tooltip>\r\n                    })\r\n                }\r\n            </MenuList>\r\n        </div>\r\n        <div style={styles.basketContainer}>\r\n            <h1>Orders</h1>\r\n            <MenuList>\r\n                {\r\n                    orders.length ? orders.map((el, id) => {\r\n                        return <MenuItem key={id}>\r\n                            <h1>{el.title} </h1>\r\n                            <h1>: {el.price} * {el.count} = {el.sum}</h1>\r\n                            <span onClick={() => dispatch(delete_order(el))}>\r\n                                <DeleteIcon />\r\n                            </span>\r\n                        </MenuItem>\r\n                    })\r\n                        : <div>\r\n                            <Skeleton />\r\n                            <Skeleton animation={false} />\r\n                            <Skeleton animation=\"wave\" />\r\n                        </div>\r\n                }\r\n            </MenuList>\r\n        </div>\r\n        <Snackbar open={open} autoHideDuration={6000}>\r\n            <Alert severity=\"success\">\r\n                Заказ успешно добавлен!\r\n        </Alert>\r\n        </Snackbar>\r\n    </div>\r\n}\r\nconst styles = {\r\n    orderContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n    menuContainer: {\r\n        width: '50%',\r\n        backgroundColor: 'bisque'\r\n    },\r\n    basketContainer: {\r\n        width: '50%',\r\n        backgroundColor: 'bisque',\r\n    }\r\n}","import './App.css';\nimport {OrdersBasket} from './components/OrdersBasket'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <OrdersBasket/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ADD_ORDER, DELETE_ORDER } from \"../actions\";\r\n\r\nconst orderLocal = JSON.parse(localStorage.getItem('orders'))\r\nconst defaultState = {\r\n  orders: orderLocal || [],\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n};\r\nexport const rootReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case ADD_ORDER:\r\n      // findIndex\r\n      let is_chosen1 = state.orders.findIndex(\r\n        (item) => item.title === action.payload.title\r\n      );\r\n      if (is_chosen1 !== -1) {\r\n        //стордун orders ключтун копиясын жасайбыз\r\n        let arr1 = [...state.orders];\r\n        // orders тен is_chosen индекс менен бизге керектуу элементтти таап count деген ключун перезапись кылабыз\r\n        arr1[is_chosen1].count = arr1[is_chosen1].count + 1;\r\n        arr1[is_chosen1].sum = arr1[is_chosen1].sum + action.payload.price;\r\n        return {\r\n          ...state,\r\n          orders: arr1,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          orders: [\r\n            ...state.orders,\r\n            {\r\n              title: action.payload.title,\r\n              price: action.payload.price,\r\n              count: 1,\r\n              sum: action.payload.price\r\n            },\r\n          ],\r\n        };\r\n      }\r\n      case DELETE_ORDER:\r\n      let is_chosen = state.orders.findIndex(\r\n        (item) => item.title === action.payload.title\r\n      );\r\n      let arr = [...state.orders];\r\n      if (is_chosen !== -1) {\r\n        if(arr[is_chosen].count > 1) {\r\n          arr[is_chosen].count = arr[is_chosen].count - 1;\r\n          arr[is_chosen].sum = arr[is_chosen].sum + action.payload.price;\r\n        return {\r\n          ...state,\r\n          orders: arr,\r\n        };\r\n        } else {\r\n          return {\r\n            ...state,\r\n            orders: arr.filter(el => el.title !== arr[is_chosen].title)\r\n          }\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { rootReducer } from \"./store/reducers\";\nconst store = createStore(rootReducer);\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}